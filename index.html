<!DOCTYPE html>
<html lang="th">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>‡πÄ‡∏Å‡∏°‡∏Å‡∏•‡∏∏‡πà‡∏° ‡∏ä‡∏≤‡∏¢‡∏™‡∏µ‡πà</title>

<style>
*{box-sizing:border-box;font-family:system-ui,sans-serif}

body{
  margin:0;
  min-height:100vh;
  display:flex;
  justify-content:center;
  background:#f6f6f6;
}

.app{
  width:100%;
  max-width:420px;
  padding:20px;
}

h1{text-align:center;font-size:2rem}

.progress{font-weight:bold;margin-bottom:10px}

.note{
  text-align:center;
  font-size:6rem;
  margin:20px 0;
}

.emoji{
  text-align:center;
  font-size:3rem;
  height:3.5rem;
}

.choices{
  display:grid;
  grid-template-columns:1fr 1fr;
  gap:12px;
}

.choice{
  padding:16px;
  font-size:1.1rem;
  border:none;
  border-radius:14px;
  background:#eaeaea;
}

.choice:active{transform:scale(.95)}

.correct{background:#4caf50!important;color:white}
.wrong{background:#f44336!important;color:white}

.info{
  margin-top:16px;
  display:flex;
  justify-content:space-between;
  align-items:center;
}

.reset{
  padding:10px 14px;
  border:none;
  border-radius:10px;
  background:orange;
  color:white;
}
</style>
</head>

<body>
<div class="app">

<h1>üéµ ‡πÄ‡∏Å‡∏°‡∏Å‡∏•‡∏∏‡πà‡∏° ‡∏ä‡∏≤‡∏¢‡∏™‡∏µ‡πà</h1>

<div class="progress" id="progress">‡∏Ç‡πâ‡∏≠‡∏ó‡∏µ‡πà 1 / 15</div>

<div class="note" id="note">‚ôØ</div>
<div class="emoji" id="emoji"></div>

<div class="choices">
  <button class="choice" onclick="answer('whole',this)">‡∏ï‡∏±‡∏ß‡∏Å‡∏•‡∏°</button>
  <button class="choice" onclick="answer('half',this)">‡∏ï‡∏±‡∏ß‡∏Ç‡∏≤‡∏ß</button>
  <button class="choice" onclick="answer('black',this)">‡∏ï‡∏±‡∏ß‡∏î‡∏≥</button>
  <button class="choice" onclick="answer('sharp',this)">‡∏ï‡∏±‡∏ß‡πÄ‡∏Ç‡∏ö‡πá‡∏î</button>
</div>

<div class="info">
  <div>‡∏Ñ‡∏∞‡πÅ‡∏ô‡∏ô: <span id="score">0</span></div>
  <button class="reset" onclick="resetGame()">‡πÄ‡∏•‡πà‡∏ô‡πÉ‡∏´‡∏°‡πà</button>
</div>

</div>

<script>
const TOTAL = 15;
let score = 0;
let index = 0;
let retry = false;

const pool = [
  {symbol:"‚óè", answer:"whole"},
  {symbol:"ùÖû", answer:"half"},
  {symbol:"‚ô©", answer:"black"},
  {symbol:"‚ôØ", answer:"sharp"}
];

let quiz = [];

function start(){
  quiz = [];
  for(let i=0;i<TOTAL;i++){
    quiz.push(pool[Math.floor(Math.random()*pool.length)]);
  }
  show();
}

function show(){
  if(index >= TOTAL){
    document.getElementById("note").textContent = "üéâ";
    document.getElementById("progress").textContent = "‡∏à‡∏ö‡πÄ‡∏Å‡∏°‡πÅ‡∏•‡πâ‡∏ß";
    document.querySelectorAll(".choice").forEach(b=>b.disabled=true);
    return;
  }

  document.getElementById("note").textContent = quiz[index].symbol;
  document.getElementById("progress").textContent =
    `‡∏Ç‡πâ‡∏≠‡∏ó‡∏µ‡πà ${index+1} / ${TOTAL}`;
  document.getElementById("emoji").textContent = "";

  document.querySelectorAll(".choice").forEach(b=>{
    b.disabled=false;
    b.classList.remove("correct","wrong");
  });
}

function answer(val,btn){
  document.querySelectorAll(".choice").forEach(b=>b.disabled=true);

  if(val === quiz[index].answer){
    btn.classList.add("correct");
    document.getElementById("emoji").textContent = "üéä";
    score++;
    document.getElementById("score").textContent = score;
    retry = false;
    setTimeout(()=>{ index++; show(); },700);
  }else{
    btn.classList.add("wrong");
    document.getElementById("emoji").textContent = "üò≥";

    if(!retry){
      retry = true;
      setTimeout(show,700);   // ‡∏ã‡πâ‡∏≥‡∏Ñ‡∏≥‡∏ñ‡∏≤‡∏° 1 ‡∏£‡∏≠‡∏ö
    }else{
      retry = false;
      setTimeout(()=>{ index++; show(); },700);
    }
  }
}

function resetGame(){
  score = 0;
  index = 0;
  retry = false;
  document.getElementById("score").textContent = 0;
  start();
}

start();
</script>

</body>
  </html>
